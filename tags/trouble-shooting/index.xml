<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>trouble-shooting on The road</title><link>https://kane.mx/tags/trouble-shooting/</link><description>Recent content in trouble-shooting on The road</description><generator>Hugo -- gohugo.io</generator><copyright>Copyright © 2021, Kane Zhu; all rights reserved.</copyright><lastBuildDate>Wed, 12 Oct 2016 00:00:00 +0000</lastBuildDate><atom:link href="https://kane.mx/tags/trouble-shooting/index.xml" rel="self" type="application/rss+xml"/><item><title>如何修复Jenkins CI无法读取存在的任务配置</title><link>https://kane.mx/posts/2016/how-to-fix-jenkins-fail-to-load-job-config/</link><pubDate>Wed, 12 Oct 2016 00:00:00 +0000</pubDate><guid>https://kane.mx/posts/2016/how-to-fix-jenkins-fail-to-load-job-config/</guid><description>
&lt;p>&lt;a href="https://vme360.com">V秘&lt;/a>开发团队一直使用着&lt;a href="https://jenkins.io/">Jenkins CI&lt;/a>来持续集成&lt;a href="https://vme360.com">V秘&lt;/a>服务的新功能和各种改进。近日，&lt;a href="https://jenkins.io/">Jenkins CI&lt;/a>在重启之后，很多已有任务的配置无法被&lt;a href="https://jenkins.io/">Jenkins CI&lt;/a>完整的加载，导致很多功能无法使用。导致我们整个网站的各种服务无法被升级更新了:-(&lt;/p>
&lt;p>&lt;a href="https://jenkins.io/">Jenkins CI&lt;/a>在管理控制台列出如下的错误信息，示意现有任务的部分配置由于错误无法加载。&lt;/p>
&lt;pre>&lt;code>CannotResolveClassException: hudson.plugins.git.GitSCM,
CannotResolveClassException: com.cloudbees.jenkins.plugins.BitBucketTrigger,
CannotResolveClassException: hudson.plugins.emailext.ExtendedEmailPublisher,
CannotResolveClassException: hudson.plugins.parameterizedtrigger.BuildTrigger
&lt;/code>&lt;/pre>
&lt;p>通过上面的错误信息，我们初步认为错误是由于插件无法被&lt;a href="https://jenkins.io/">Jenkins CI&lt;/a>加载。但是通过&lt;a href="https://jenkins.io/">Jenkins CI&lt;/a>的插件管理列表，我们发现&lt;strong>Git&lt;/strong>插件已经被认为是安装的了。同时我们也可以在&lt;a href="https://jenkins.io/">Jenkins CI&lt;/a>安装目录中找到插件对应的文件&lt;code>git.jar&lt;/code>，并且成功验证了类&lt;code>hudson.plugins.git.GitSCM&lt;/code>也是存在在jar文件里面的。重新安装&lt;code>Git client&lt;/code>插件也不能解决这个错误！&lt;/p>
&lt;!-- more -->
&lt;p>经过进一步的分析，通过&lt;a href="https://jenkins.io/">Jenkins CI&lt;/a>的系统日志，我们发现&lt;code>Git插件&lt;/code>虽然是成功安装了，但是它所依赖的某些插件没有被安装！这导致&lt;a href="https://jenkins.io/">Jenkins CI&lt;/a>无法正确加载&lt;code>Git插件&lt;/code>。通过日志的提示，将缺失的插件一一安装上，重启&lt;a href="https://jenkins.io/">Jenkins CI&lt;/a>后，插件加载正常，任务执行也恢复正常。&lt;/p>
&lt;p>这个错误出现的还是相当奇怪。因为&lt;a href="https://jenkins.io/">Jenkins CI&lt;/a>会在安装插件的时候将依赖的插件一并安装上。此外该&lt;a href="https://jenkins.io/">Jenkins CI&lt;/a>已经运行很久了，这些插件也是一直安装着的。不过现在回想起之前升级&lt;a href="https://jenkins.io/">Jenkins CI&lt;/a>插件的时候，部分插件由于网络原因升级失败了，但是没有重新更新。这导致这些插件处在了一个不正确的状态。在重启&lt;a href="https://jenkins.io/">Jenkins CI&lt;/a>后，这些插件被标记为未安装，导致依赖它们的插件无法加载。&lt;/p></description></item></channel></rss>