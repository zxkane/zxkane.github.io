<!doctype html><html lang=en-us><head><title>Deploy Sonatype Nexus repository OSS on EKS</title><style>body,body.pushable{background-repeat:no-repeat;background-attachment:fixed;background-size:cover!important}</style><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=author content="Kane"><meta name=description content="Deploy production ready Nexus repository OSS on EKS in ~10 minutes"><meta name=generator content="Hugo 0.78.1"><link rel="shortcut icon" href=/img/favicon.ico><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css><script src=https://code.jquery.com/jquery-3.3.1.min.js integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js></script><link href="https://fonts.googleapis.com/css?family=Abril+Fatface|Inconsolata" rel=stylesheet><link rel=stylesheet type=text/css href=/css/site.css><link rel=stylesheet type=text/css href=/css/highlight.css><link rel=stylesheet type=text/css href=/css/highlight.css><style>body.pushable{display:block;background-image:var(--bgImage)!important}</style><script>var isMobile=(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))
console.log("The client device is a "+(isMobile?"mobile":"PC")+".")</script></head><body><script>var prevBgIndex=0;var bodyBgSwitchIndex=0;var gradients=[[],['#40e0d0','#ff8c00','#ff0080'],['#3e5151','#decba4'],['#11998e','#38ef7d'],['#108dc7','#ef8e38'],['#fc5c7d','#6a82fb'],['#fc466b','#3f5efb'],['#c94b4b','#4b134f'],['#23074d','#cc5333']];var randomBgColor=gradients[getRandomInt(0,gradients.length)].join(", ");var backgroundProperty='linear-gradient(to right, '+randomBgColor+')';document.body.style.background=backgroundProperty;function getRandomInt(min,max){min=Math.ceil(min);max=Math.floor(max);var random;while(1){random=Math.floor(Math.random()*(max-min))+min;if(random!==prevBgIndex){prevBgIndex=random;break;}}
return random;}</script><div id=sidebar class="ui sidebar inverted vertical menu"><section id=author class="ui top attached center aligned inverted segment"><div class="ui small circular image"><img src=/img/portrait.jpg></div><h3 class="ui header">Kane<div class="sub header">Three boys' father, open source mania.</div></h3></section><section class="ui attached center aligned inverted segment sidebar-dream-tags"><a class="ui label red" href=/tags/aws title=aws>aws</a>
<a class="ui label teal" href=/tags/eclipse title=eclipse>eclipse</a>
<a class="ui label brown" href=/tags/%E4%BA%91%E8%AE%A1%E7%AE%97 title=äº‘è®¡ç®—>äº‘è®¡ç®—</a>
<a class="ui label blue" href=/tags/equinox title=equinox>equinox</a>
<a class="ui label blue" href=/tags/tip title=tip>tip</a>
<a class="ui label brown" href=/tags/osgi title=osgi>osgi</a>
<a class="ui label pink" href=/tags/p2 title=p2>p2</a>
<a class="ui label olive" href=/tags/%E9%98%BF%E9%87%8C%E4%BA%91 title=é˜¿é‡Œäº‘>é˜¿é‡Œäº‘</a>
<a class="ui label red" href=/tags/docker title=docker>docker</a>
<a class="ui label red" href=/tags/faas title=faas>faas</a></section><section class="ui attached inverted segment sidebar-dream-categories both flexbox"><div class="ui inverted accordion"><div class=title><i class="dropdown icon"></i><a class=link href=/categories/amazon-builders-library>amazon-builders-library</a></div><div class=content><a class=item href=https://kane.mx/posts/2020/the-best-practise-of-deployment-at-amazon/><div><i class="cocktail icon"></i><p>äºšé©¬é€Šçš„éƒ¨ç½²æœ€ä½³å®è·µ</p></div></a></div><div class=title><i class="dropdown icon"></i><a class=link href=/categories/blogging>blogging</a></div><div class=content><a class=item href=https://kane.mx/posts/2020/the-best-practise-of-deployment-at-amazon/><div><i class="cocktail icon"></i><p>äºšé©¬é€Šçš„éƒ¨ç½²æœ€ä½³å®è·µ</p></div></a><a class=item href=https://kane.mx/posts/2020/deploy-aws-cdk-applications-cross-accounts/><div><i class="cocktail icon"></i><p>è·¨è´¦å·è·¨åŒºåŸŸéƒ¨ç½²AWS CDKç¼–æ’çš„åº”ç”¨</p></div></a><a class=item href=https://kane.mx/posts/2020/deploy-sonatype-nexus-oss-on-eks/><div><i class="cocktail icon"></i><p>Deploy Sonatype Nexus repository OSS on EKS</p></div></a><a class=item href=https://kane.mx/posts/2020/serverless-docker-images-analytics/><div><i class="cocktail icon"></i><p>æ— æœåŠ¡å™¨æ¶æ„çš„Dockeré•œåƒæ•°æ®åˆ†æåº”ç”¨</p></div></a><a class=item href=https://kane.mx/posts/2020/get-docker-image-size-without-pulling-image/><div><i class="cocktail icon"></i><p>Get the size of Docker image without pulling image</p></div></a><a class=item href=https://kane.mx/posts/2020/zsh-performance-tuning/><div><i class="cocktail icon"></i><p>oh-my-zshæ€§èƒ½è°ƒä¼˜æ€è·¯</p></div></a><a class=item href=https://kane.mx/posts/2020/codecommit-devops-model/><div><i class="cocktail icon"></i><p>åŸºäºCodeCommitä»£ç ç®¡ç†çš„æ— æœåŠ¡å™¨æ¶æ„Devops</p></div></a><a class=item href=https://kane.mx/posts/2020/new-http-apis-of-api-gateway/><div><i class="cocktail icon"></i><p>AWSå‘å¸ƒæ›´å¿«ã€æ›´ä¾¿å®œã€æ›´æ˜“ç”¨çš„HTTP APIs</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-cloud-debugging/><div><i class="cocktail icon"></i><p>AWS Cloud Debuggingåˆæ¢</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-batch/><div><i class="cocktail icon"></i><p>AWS Batchç®€ä»‹</p></div></a><a class=item href=https://kane.mx/posts/2019/email-forwarding/><div><i class="cocktail icon"></i><p>å…è´¹é‚®ä»¶è½¬å‘æœåŠ¡</p></div></a><a class=item href=https://kane.mx/posts/2019/aliyun-edas-migration-in-action/><div><i class="cocktail icon"></i><p>å®æˆ˜Aliyun EDASåº”ç”¨è¿ç§»AWS</p></div></a><a class=item href=https://kane.mx/posts/2019/rds-log-analysis/><div><i class="cocktail icon"></i><p>AWS RDSæ•°æ®åº“æ—¥å¿—åˆ†æåŠå±•ç¤º</p></div></a><a class=item href=https://kane.mx/posts/2019/using-openswan-connect-aws-vpn/><div><i class="cocktail icon"></i><p>ä½¿ç”¨Openswanè¿æ¥AWS VPC</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-cdk/><div><i class="cocktail icon"></i><p>AWS CDKç®€ä»‹</p></div></a><a class=item href=https://kane.mx/posts/2019/alexa-login-issue/><div><i class="cocktail icon"></i><p>Amazon Alexa Androidç‰ˆæœ¬å›½å†…ç™»å½•é—®é¢˜</p></div></a><a class=item href=https://kane.mx/posts/2019/using-s3-as-device-for-mac-time-machine-backup/><div><i class="cocktail icon"></i><p>ä½¿ç”¨AWS S3ä½œä¸ºMacOSXæ—¶é—´æœºå™¨(Time Machine)çš„å¤‡ä»½å­˜å‚¨</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-vs-aliyun/><div><i class="cocktail icon"></i><p>å…¬æœ‰äº‘å¯¹æ¯”</p></div></a><a class=item href=https://kane.mx/posts/2019/serverless-framework/><div><i class="cocktail icon"></i><p>Serverless framework 101</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-lambda-layers/><div><i class="cocktail icon"></i><p>AWS Lambda Layerå®è·µ</p></div></a><a class=item href=https://kane.mx/posts/2019/2019-qconbeijing-reviews/><div><i class="cocktail icon"></i><p>QCon2019åŒ—äº¬ç«™å›é¡¾</p></div></a><a class=item href=https://kane.mx/posts/2018/2018-12-13-bj-archsummit-review/><div><i class="cocktail icon"></i><p>2018åŒ—äº¬ArchSummitå›é¡¾</p></div></a><a class=item href=https://kane.mx/posts/2016/how-to-fix-jenkins-fail-to-load-job-config/><div><i class="cocktail icon"></i><p>å¦‚ä½•ä¿®å¤Jenkins CIæ— æ³•è¯»å–å­˜åœ¨çš„ä»»åŠ¡é…ç½®</p></div></a><a class=item href=https://kane.mx/posts/2016/how-to-find-slow-queries-in-mongodb/><div><i class="cocktail icon"></i><p>MongoDBä¸­å¦‚ä½•æ‰¾å‡ºæ…¢æŸ¥è¯¢</p></div></a><a class=item href=https://kane.mx/posts/2016/the-limitations-docker-swarm-mode-v1.12/><div><i class="cocktail icon"></i><p>Docker Swarm mode(v1.12.x)çš„ä¸€äº›ä½¿ç”¨é™åˆ¶</p></div></a><a class=item href=https://kane.mx/posts/2016/docker-swarm-mode-in-ubuntu-1404/><div><i class="cocktail icon"></i><p>åˆ›å»ºäºDocker Swarmçš„æœåŠ¡æ— æ³•åœ¨Ubuntu 14.04 LTSä¸­è¿è¡Œ</p></div></a><a class=item href=https://kane.mx/posts/2016/seo-optimization-for-angularajs-based-app/><div><i class="cocktail icon"></i><p>åŸºäºAngularjså•é¡µé¢åº”ç”¨çš„SEOä¼˜åŒ–</p></div></a><a class=item href=https://kane.mx/posts/2016/clustered-session-under-spring-framework/><div><i class="cocktail icon"></i><p>Springæ¡†æ¶ä¸‹çš„åˆ†å¸ƒå¼sessionç®¡ç†</p></div></a><a class=item href=https://kane.mx/posts/2016/how-we-build-videome/><div><i class="cocktail icon"></i><p>Vç§˜æ˜¯å¦‚ä½•æ„å»ºçš„</p></div></a><a class=item href=https://kane.mx/posts/2016/aliyun-ossfs-sucks/><div><i class="cocktail icon"></i><p>è¯´ä¸€è¯´é˜¿é‡Œäº‘ossfs</p></div></a><a class=item href=https://kane.mx/posts/2016/weixin-temporary-materials/><div><i class="cocktail icon"></i><p>å¦‚ä½•ä½¿ç”¨å¾®ä¿¡å…¬ä¼—å¹³å°çš„ä¸´æ—¶ç´ æ</p></div></a><a class=item href=https://kane.mx/posts/2016/single-page-app-meets-weixin-pay/><div><i class="cocktail icon"></i><p>å•é¡µé¢åº”ç”¨(single page application)ä¸­ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜</p></div></a><a class=item href=https://kane.mx/posts/2016/docker-build-no-space-left-caused-by-inode-exhausted/><div><i class="cocktail icon"></i><p>æ–‡ä»¶ç³»ç»Ÿçš„Inodeè€—å°½ï¼Œä¼šå¯¼è‡´Dockerç¼–è¯‘é•œåƒå‡ºç°'No space left on device'é”™è¯¯</p></div></a></div><div class=title><i class="dropdown icon"></i><a class=link href=/categories/effective-cloud-computing>effective-cloud-computing</a></div><div class=content><a class=item href=https://kane.mx/posts/2020/deploy-aws-cdk-applications-cross-accounts/><div><i class="cocktail icon"></i><p>è·¨è´¦å·è·¨åŒºåŸŸéƒ¨ç½²AWS CDKç¼–æ’çš„åº”ç”¨</p></div></a><a class=item href=https://kane.mx/posts/2020/deploy-sonatype-nexus-oss-on-eks/><div><i class="cocktail icon"></i><p>Deploy Sonatype Nexus repository OSS on EKS</p></div></a><a class=item href=https://kane.mx/posts/2020/serverless-docker-images-analytics/><div><i class="cocktail icon"></i><p>æ— æœåŠ¡å™¨æ¶æ„çš„Dockeré•œåƒæ•°æ®åˆ†æåº”ç”¨</p></div></a><a class=item href=https://kane.mx/posts/2020/codecommit-devops-model/><div><i class="cocktail icon"></i><p>åŸºäºCodeCommitä»£ç ç®¡ç†çš„æ— æœåŠ¡å™¨æ¶æ„Devops</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-cloud-debugging/><div><i class="cocktail icon"></i><p>AWS Cloud Debuggingåˆæ¢</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-batch/><div><i class="cocktail icon"></i><p>AWS Batchç®€ä»‹</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-cdk/><div><i class="cocktail icon"></i><p>AWS CDKç®€ä»‹</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/serverless-domain-redirect/><div><i class="cocktail icon"></i><p>æ— æœåŠ¡å™¨æ¶æ„çš„åŸŸåé‡å®šå‘æœåŠ¡</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/spring-cloud-function-for-aws/><div><i class="cocktail icon"></i><p>Spring Cloud Function -- è·¨Serverlesså¹³å°çš„å‡½æ•°è®¡ç®—æ¡†æ¶</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/spring-cloud-or-cloud-native/><div><i class="cocktail icon"></i><p>Spring Cloud or Cloud Native</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/oauth2-proxy-on-kubernetes/part2/><div><i class="cocktail icon"></i><p>ä¸ºKubernetesä¸­ä»»æ„åº”ç”¨æ·»åŠ åŸºäºoauth2çš„è®¤è¯ä¿æŠ¤ (ä¸‹)</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/serverless-dingtalk-callback/><div><i class="cocktail icon"></i><p>åŸºäºå‡½æ•°è®¡ç®—çš„é’‰é’‰å›è°ƒå‡½æ•°æ¥å£</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/serverless-computing-101/><div><i class="cocktail icon"></i><p>æ— æœåŠ¡å™¨è®¡ç®—101</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/oauth2-proxy-on-kubernetes/part1/><div><i class="cocktail icon"></i><p>ä¸ºKubernetesä¸­ä»»æ„åº”ç”¨æ·»åŠ åŸºäºoauth2çš„è®¤è¯ä¿æŠ¤ (ä¸Š)</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/iam-best-practice/><div><i class="cocktail icon"></i><p>IAMæœ€ä½³å®è·µ</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/using-kubernetes-on-cloud/><div><i class="cocktail icon"></i><p>ä¸è¦è‡ªå»ºKubernetes</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/preface/><div><i class="cocktail icon"></i><p>çœŸçš„ä¼šç”¨äº‘æœåŠ¡å—ï¼Ÿ</p></div></a></div><div class=title><i class="dropdown icon"></i><a class=link href=/categories/kubernetes>kubernetes</a></div><div class=content><a class=item href=https://kane.mx/posts/effective-cloud-computing/spring-cloud-or-cloud-native/><div><i class="cocktail icon"></i><p>Spring Cloud or Cloud Native</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/oauth2-proxy-on-kubernetes/part2/><div><i class="cocktail icon"></i><p>ä¸ºKubernetesä¸­ä»»æ„åº”ç”¨æ·»åŠ åŸºäºoauth2çš„è®¤è¯ä¿æŠ¤ (ä¸‹)</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/oauth2-proxy-on-kubernetes/part1/><div><i class="cocktail icon"></i><p>ä¸ºKubernetesä¸­ä»»æ„åº”ç”¨æ·»åŠ åŸºäºoauth2çš„è®¤è¯ä¿æŠ¤ (ä¸Š)</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/using-kubernetes-on-cloud/><div><i class="cocktail icon"></i><p>ä¸è¦è‡ªå»ºKubernetes</p></div></a></div><div class=title><i class="dropdown icon"></i><a class=link href=/categories/serverless-computing>serverless-computing</a></div><div class=content><a class=item href=https://kane.mx/posts/2020/new-http-apis-of-api-gateway/><div><i class="cocktail icon"></i><p>AWSå‘å¸ƒæ›´å¿«ã€æ›´ä¾¿å®œã€æ›´æ˜“ç”¨çš„HTTP APIs</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/serverless-domain-redirect/><div><i class="cocktail icon"></i><p>æ— æœåŠ¡å™¨æ¶æ„çš„åŸŸåé‡å®šå‘æœåŠ¡</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/spring-cloud-function-for-aws/><div><i class="cocktail icon"></i><p>Spring Cloud Function -- è·¨Serverlesså¹³å°çš„å‡½æ•°è®¡ç®—æ¡†æ¶</p></div></a><a class=item href=https://kane.mx/posts/2019/serverless-framework/><div><i class="cocktail icon"></i><p>Serverless framework 101</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-lambda-layers/><div><i class="cocktail icon"></i><p>AWS Lambda Layerå®è·µ</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/serverless-dingtalk-callback/><div><i class="cocktail icon"></i><p>åŸºäºå‡½æ•°è®¡ç®—çš„é’‰é’‰å›è°ƒå‡½æ•°æ¥å£</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/serverless-computing-101/><div><i class="cocktail icon"></i><p>æ— æœåŠ¡å™¨è®¡ç®—101</p></div></a></div><div class=title><i class="dropdown icon"></i><a class=link href=/categories/trip>trip</a></div><div class=content><a class=item href=https://kane.mx/posts/archive/blogspot/food-and-drinking/><div><i class="cocktail icon"></i><p>Food and Drinking</p></div></a><a class=item href=https://kane.mx/posts/archive/blogspot/working-workspace/><div><i class="cocktail icon"></i><p>Working Workspace</p></div></a><a class=item href=https://kane.mx/posts/archive/blogspot/transportation/><div><i class="cocktail icon"></i><p>Transportation</p></div></a><a class=item href=https://kane.mx/posts/archive/blogspot/working-style/><div><i class="cocktail icon"></i><p>Working style</p></div></a><a class=item href=https://kane.mx/posts/archive/blogspot/day-1/><div><i class="cocktail icon"></i><p>day 1</p></div></a></div></div></section><section id=footer class="ui bottom attached center aligned inverted segment"><p>Â© 2020 The Road</p><p>Powered by <a href=https://gohugo.io/ target=_blank>Hugo</a> with <a href=https://github.com/UtkarshVerma/hugo-dream-plus target=_blank>Dream Plus</a> theme.</p></section></div><div class=pusher><div class=flipper><div class=front><nav class="ui top secondary menu bar"><div class=item><i class="inverted big link bullseye icon dream-flip-toggle" title="About Me"></i></div><div class=item><a href=/><i class="inverted big link home icon" title=Home></i></a></div><div class=item><a href=/tags><i class="inverted big link tags icon" title="All Tags"></i></a></div><div class=item><a href=/categories><i class="inverted big link cubes icon" title="All Categories"></i></a></div><div class="ui container tablet computer only grid"><div class=item onclick="$('.ui.sidebar').sidebar('setting','transition','overlay').sidebar('toggle');"><i class="inverted big link sidebar icon" title="Show Sidebar"></i></div></div><div class="item right"><a href=/posts/index.xml><i class="inverted big link rss icon" title="RSS Feed"></i></a></div></nav><div class="ui centered grid"><div class="sixteen wide mobile only column"><div class="ui inverted accordion"><div id=header class="ui inverted segment column box"><header id=author class="ui top attached center aligned inverted segment"><div class="ui small circular image"><img src=/img/portrait.jpg></div><h3 class="ui header">Kane<div class="sub header">Three boys' father, open source mania.</div></h3></header><div class="title header-title"><div id=tag-category-pop class="ui red right corner label"><i class="hand point icon down" title="Show/hide tags and categories"></i></div></div><div id=tag-category class=content><section class="ui attached center aligned inverted segment dream-tags none flexbox"><a class="ui label green" href=/tags/aws title=aws>aws</a>
<a class="ui label orange" href=/tags/eclipse title=eclipse>eclipse</a>
<a class="ui label olive" href=/tags/%E4%BA%91%E8%AE%A1%E7%AE%97 title=äº‘è®¡ç®—>äº‘è®¡ç®—</a>
<a class="ui label red" href=/tags/equinox title=equinox>equinox</a>
<a class="ui label blue" href=/tags/tip title=tip>tip</a>
<a class="ui label yellow" href=/tags/osgi title=osgi>osgi</a>
<a class="ui label brown" href=/tags/p2 title=p2>p2</a>
<a class="ui label red" href=/tags/%E9%98%BF%E9%87%8C%E4%BA%91 title=é˜¿é‡Œäº‘>é˜¿é‡Œäº‘</a>
<a class="ui label red" href=/tags/docker title=docker>docker</a>
<a class="ui label green" href=/tags/faas title=faas>faas</a></section><section class="ui attached inverted segment dream-categories both flexbox"><div class="inverted accordion"><div class=title><i class="dropdown icon"></i><a class=link href=/categories/amazon-builders-library>amazon-builders-library</a></div><div class=content><a class=item href=https://kane.mx/posts/2020/the-best-practise-of-deployment-at-amazon/><div><i class="cocktail icon"></i><p>äºšé©¬é€Šçš„éƒ¨ç½²æœ€ä½³å®è·µ</p></div></a></div><div class=title><i class="dropdown icon"></i><a class=link href=/categories/blogging>blogging</a></div><div class=content><a class=item href=https://kane.mx/posts/2020/the-best-practise-of-deployment-at-amazon/><div><i class="cocktail icon"></i><p>äºšé©¬é€Šçš„éƒ¨ç½²æœ€ä½³å®è·µ</p></div></a><a class=item href=https://kane.mx/posts/2020/deploy-aws-cdk-applications-cross-accounts/><div><i class="cocktail icon"></i><p>è·¨è´¦å·è·¨åŒºåŸŸéƒ¨ç½²AWS CDKç¼–æ’çš„åº”ç”¨</p></div></a><a class=item href=https://kane.mx/posts/2020/deploy-sonatype-nexus-oss-on-eks/><div><i class="cocktail icon"></i><p>Deploy Sonatype Nexus repository OSS on EKS</p></div></a><a class=item href=https://kane.mx/posts/2020/serverless-docker-images-analytics/><div><i class="cocktail icon"></i><p>æ— æœåŠ¡å™¨æ¶æ„çš„Dockeré•œåƒæ•°æ®åˆ†æåº”ç”¨</p></div></a><a class=item href=https://kane.mx/posts/2020/get-docker-image-size-without-pulling-image/><div><i class="cocktail icon"></i><p>Get the size of Docker image without pulling image</p></div></a><a class=item href=https://kane.mx/posts/2020/zsh-performance-tuning/><div><i class="cocktail icon"></i><p>oh-my-zshæ€§èƒ½è°ƒä¼˜æ€è·¯</p></div></a><a class=item href=https://kane.mx/posts/2020/codecommit-devops-model/><div><i class="cocktail icon"></i><p>åŸºäºCodeCommitä»£ç ç®¡ç†çš„æ— æœåŠ¡å™¨æ¶æ„Devops</p></div></a><a class=item href=https://kane.mx/posts/2020/new-http-apis-of-api-gateway/><div><i class="cocktail icon"></i><p>AWSå‘å¸ƒæ›´å¿«ã€æ›´ä¾¿å®œã€æ›´æ˜“ç”¨çš„HTTP APIs</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-cloud-debugging/><div><i class="cocktail icon"></i><p>AWS Cloud Debuggingåˆæ¢</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-batch/><div><i class="cocktail icon"></i><p>AWS Batchç®€ä»‹</p></div></a><a class=item href=https://kane.mx/posts/2019/email-forwarding/><div><i class="cocktail icon"></i><p>å…è´¹é‚®ä»¶è½¬å‘æœåŠ¡</p></div></a><a class=item href=https://kane.mx/posts/2019/aliyun-edas-migration-in-action/><div><i class="cocktail icon"></i><p>å®æˆ˜Aliyun EDASåº”ç”¨è¿ç§»AWS</p></div></a><a class=item href=https://kane.mx/posts/2019/rds-log-analysis/><div><i class="cocktail icon"></i><p>AWS RDSæ•°æ®åº“æ—¥å¿—åˆ†æåŠå±•ç¤º</p></div></a><a class=item href=https://kane.mx/posts/2019/using-openswan-connect-aws-vpn/><div><i class="cocktail icon"></i><p>ä½¿ç”¨Openswanè¿æ¥AWS VPC</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-cdk/><div><i class="cocktail icon"></i><p>AWS CDKç®€ä»‹</p></div></a><a class=item href=https://kane.mx/posts/2019/alexa-login-issue/><div><i class="cocktail icon"></i><p>Amazon Alexa Androidç‰ˆæœ¬å›½å†…ç™»å½•é—®é¢˜</p></div></a><a class=item href=https://kane.mx/posts/2019/using-s3-as-device-for-mac-time-machine-backup/><div><i class="cocktail icon"></i><p>ä½¿ç”¨AWS S3ä½œä¸ºMacOSXæ—¶é—´æœºå™¨(Time Machine)çš„å¤‡ä»½å­˜å‚¨</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-vs-aliyun/><div><i class="cocktail icon"></i><p>å…¬æœ‰äº‘å¯¹æ¯”</p></div></a><a class=item href=https://kane.mx/posts/2019/serverless-framework/><div><i class="cocktail icon"></i><p>Serverless framework 101</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-lambda-layers/><div><i class="cocktail icon"></i><p>AWS Lambda Layerå®è·µ</p></div></a><a class=item href=https://kane.mx/posts/2019/2019-qconbeijing-reviews/><div><i class="cocktail icon"></i><p>QCon2019åŒ—äº¬ç«™å›é¡¾</p></div></a><a class=item href=https://kane.mx/posts/2018/2018-12-13-bj-archsummit-review/><div><i class="cocktail icon"></i><p>2018åŒ—äº¬ArchSummitå›é¡¾</p></div></a><a class=item href=https://kane.mx/posts/2016/how-to-fix-jenkins-fail-to-load-job-config/><div><i class="cocktail icon"></i><p>å¦‚ä½•ä¿®å¤Jenkins CIæ— æ³•è¯»å–å­˜åœ¨çš„ä»»åŠ¡é…ç½®</p></div></a><a class=item href=https://kane.mx/posts/2016/how-to-find-slow-queries-in-mongodb/><div><i class="cocktail icon"></i><p>MongoDBä¸­å¦‚ä½•æ‰¾å‡ºæ…¢æŸ¥è¯¢</p></div></a><a class=item href=https://kane.mx/posts/2016/the-limitations-docker-swarm-mode-v1.12/><div><i class="cocktail icon"></i><p>Docker Swarm mode(v1.12.x)çš„ä¸€äº›ä½¿ç”¨é™åˆ¶</p></div></a><a class=item href=https://kane.mx/posts/2016/docker-swarm-mode-in-ubuntu-1404/><div><i class="cocktail icon"></i><p>åˆ›å»ºäºDocker Swarmçš„æœåŠ¡æ— æ³•åœ¨Ubuntu 14.04 LTSä¸­è¿è¡Œ</p></div></a><a class=item href=https://kane.mx/posts/2016/seo-optimization-for-angularajs-based-app/><div><i class="cocktail icon"></i><p>åŸºäºAngularjså•é¡µé¢åº”ç”¨çš„SEOä¼˜åŒ–</p></div></a><a class=item href=https://kane.mx/posts/2016/clustered-session-under-spring-framework/><div><i class="cocktail icon"></i><p>Springæ¡†æ¶ä¸‹çš„åˆ†å¸ƒå¼sessionç®¡ç†</p></div></a><a class=item href=https://kane.mx/posts/2016/how-we-build-videome/><div><i class="cocktail icon"></i><p>Vç§˜æ˜¯å¦‚ä½•æ„å»ºçš„</p></div></a><a class=item href=https://kane.mx/posts/2016/aliyun-ossfs-sucks/><div><i class="cocktail icon"></i><p>è¯´ä¸€è¯´é˜¿é‡Œäº‘ossfs</p></div></a><a class=item href=https://kane.mx/posts/2016/weixin-temporary-materials/><div><i class="cocktail icon"></i><p>å¦‚ä½•ä½¿ç”¨å¾®ä¿¡å…¬ä¼—å¹³å°çš„ä¸´æ—¶ç´ æ</p></div></a><a class=item href=https://kane.mx/posts/2016/single-page-app-meets-weixin-pay/><div><i class="cocktail icon"></i><p>å•é¡µé¢åº”ç”¨(single page application)ä¸­ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜</p></div></a><a class=item href=https://kane.mx/posts/2016/docker-build-no-space-left-caused-by-inode-exhausted/><div><i class="cocktail icon"></i><p>æ–‡ä»¶ç³»ç»Ÿçš„Inodeè€—å°½ï¼Œä¼šå¯¼è‡´Dockerç¼–è¯‘é•œåƒå‡ºç°'No space left on device'é”™è¯¯</p></div></a></div><div class=title><i class="dropdown icon"></i><a class=link href=/categories/effective-cloud-computing>effective-cloud-computing</a></div><div class=content><a class=item href=https://kane.mx/posts/2020/deploy-aws-cdk-applications-cross-accounts/><div><i class="cocktail icon"></i><p>è·¨è´¦å·è·¨åŒºåŸŸéƒ¨ç½²AWS CDKç¼–æ’çš„åº”ç”¨</p></div></a><a class=item href=https://kane.mx/posts/2020/deploy-sonatype-nexus-oss-on-eks/><div><i class="cocktail icon"></i><p>Deploy Sonatype Nexus repository OSS on EKS</p></div></a><a class=item href=https://kane.mx/posts/2020/serverless-docker-images-analytics/><div><i class="cocktail icon"></i><p>æ— æœåŠ¡å™¨æ¶æ„çš„Dockeré•œåƒæ•°æ®åˆ†æåº”ç”¨</p></div></a><a class=item href=https://kane.mx/posts/2020/codecommit-devops-model/><div><i class="cocktail icon"></i><p>åŸºäºCodeCommitä»£ç ç®¡ç†çš„æ— æœåŠ¡å™¨æ¶æ„Devops</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-cloud-debugging/><div><i class="cocktail icon"></i><p>AWS Cloud Debuggingåˆæ¢</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-batch/><div><i class="cocktail icon"></i><p>AWS Batchç®€ä»‹</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-cdk/><div><i class="cocktail icon"></i><p>AWS CDKç®€ä»‹</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/serverless-domain-redirect/><div><i class="cocktail icon"></i><p>æ— æœåŠ¡å™¨æ¶æ„çš„åŸŸåé‡å®šå‘æœåŠ¡</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/spring-cloud-function-for-aws/><div><i class="cocktail icon"></i><p>Spring Cloud Function -- è·¨Serverlesså¹³å°çš„å‡½æ•°è®¡ç®—æ¡†æ¶</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/spring-cloud-or-cloud-native/><div><i class="cocktail icon"></i><p>Spring Cloud or Cloud Native</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/oauth2-proxy-on-kubernetes/part2/><div><i class="cocktail icon"></i><p>ä¸ºKubernetesä¸­ä»»æ„åº”ç”¨æ·»åŠ åŸºäºoauth2çš„è®¤è¯ä¿æŠ¤ (ä¸‹)</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/serverless-dingtalk-callback/><div><i class="cocktail icon"></i><p>åŸºäºå‡½æ•°è®¡ç®—çš„é’‰é’‰å›è°ƒå‡½æ•°æ¥å£</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/serverless-computing-101/><div><i class="cocktail icon"></i><p>æ— æœåŠ¡å™¨è®¡ç®—101</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/oauth2-proxy-on-kubernetes/part1/><div><i class="cocktail icon"></i><p>ä¸ºKubernetesä¸­ä»»æ„åº”ç”¨æ·»åŠ åŸºäºoauth2çš„è®¤è¯ä¿æŠ¤ (ä¸Š)</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/iam-best-practice/><div><i class="cocktail icon"></i><p>IAMæœ€ä½³å®è·µ</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/using-kubernetes-on-cloud/><div><i class="cocktail icon"></i><p>ä¸è¦è‡ªå»ºKubernetes</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/preface/><div><i class="cocktail icon"></i><p>çœŸçš„ä¼šç”¨äº‘æœåŠ¡å—ï¼Ÿ</p></div></a></div><div class=title><i class="dropdown icon"></i><a class=link href=/categories/kubernetes>kubernetes</a></div><div class=content><a class=item href=https://kane.mx/posts/effective-cloud-computing/spring-cloud-or-cloud-native/><div><i class="cocktail icon"></i><p>Spring Cloud or Cloud Native</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/oauth2-proxy-on-kubernetes/part2/><div><i class="cocktail icon"></i><p>ä¸ºKubernetesä¸­ä»»æ„åº”ç”¨æ·»åŠ åŸºäºoauth2çš„è®¤è¯ä¿æŠ¤ (ä¸‹)</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/oauth2-proxy-on-kubernetes/part1/><div><i class="cocktail icon"></i><p>ä¸ºKubernetesä¸­ä»»æ„åº”ç”¨æ·»åŠ åŸºäºoauth2çš„è®¤è¯ä¿æŠ¤ (ä¸Š)</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/using-kubernetes-on-cloud/><div><i class="cocktail icon"></i><p>ä¸è¦è‡ªå»ºKubernetes</p></div></a></div><div class=title><i class="dropdown icon"></i><a class=link href=/categories/serverless-computing>serverless-computing</a></div><div class=content><a class=item href=https://kane.mx/posts/2020/new-http-apis-of-api-gateway/><div><i class="cocktail icon"></i><p>AWSå‘å¸ƒæ›´å¿«ã€æ›´ä¾¿å®œã€æ›´æ˜“ç”¨çš„HTTP APIs</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/serverless-domain-redirect/><div><i class="cocktail icon"></i><p>æ— æœåŠ¡å™¨æ¶æ„çš„åŸŸåé‡å®šå‘æœåŠ¡</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/spring-cloud-function-for-aws/><div><i class="cocktail icon"></i><p>Spring Cloud Function -- è·¨Serverlesså¹³å°çš„å‡½æ•°è®¡ç®—æ¡†æ¶</p></div></a><a class=item href=https://kane.mx/posts/2019/serverless-framework/><div><i class="cocktail icon"></i><p>Serverless framework 101</p></div></a><a class=item href=https://kane.mx/posts/2019/aws-lambda-layers/><div><i class="cocktail icon"></i><p>AWS Lambda Layerå®è·µ</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/serverless-dingtalk-callback/><div><i class="cocktail icon"></i><p>åŸºäºå‡½æ•°è®¡ç®—çš„é’‰é’‰å›è°ƒå‡½æ•°æ¥å£</p></div></a><a class=item href=https://kane.mx/posts/effective-cloud-computing/serverless-computing-101/><div><i class="cocktail icon"></i><p>æ— æœåŠ¡å™¨è®¡ç®—101</p></div></a></div><div class=title><i class="dropdown icon"></i><a class=link href=/categories/trip>trip</a></div><div class=content><a class=item href=https://kane.mx/posts/archive/blogspot/food-and-drinking/><div><i class="cocktail icon"></i><p>Food and Drinking</p></div></a><a class=item href=https://kane.mx/posts/archive/blogspot/working-workspace/><div><i class="cocktail icon"></i><p>Working Workspace</p></div></a><a class=item href=https://kane.mx/posts/archive/blogspot/transportation/><div><i class="cocktail icon"></i><p>Transportation</p></div></a><a class=item href=https://kane.mx/posts/archive/blogspot/working-style/><div><i class="cocktail icon"></i><p>Working style</p></div></a><a class=item href=https://kane.mx/posts/archive/blogspot/day-1/><div><i class="cocktail icon"></i><p>day 1</p></div></a></div></div></section></div><footer class="ui bottom attached center aligned inverted segment"><p>Â© 2020 The Road</p><p>Powered by <a href=https://gohugo.io/ target=_blank>Hugo</a> with <a href=https://github.com/UtkarshVerma/hugo-dream-plus target=_blank>Dream Plus</a> theme.</p></footer></div></div></div><div class="sixteen wide mobile fifteen wide tablet twelve wide computer column post-list"><section class="ui secondary top attached black segment post-head"><h1 class=post-title>Deploy Sonatype Nexus repository OSS on EKS</h1><div class="sub header"><div><span><i class="calendar outline icon"></i>Jun 16, 2020</span></div><div><span><i class="clock outline icon"></i>2 min read</span></div><div><span><i class="angle double up icon"></i>Last updated on Nov 21, 2020</span></div></div><hr><article class="post-content twemoji"><p><a href=https://www.sonatype.com/nexus-repository-oss>Sonatype Nexus repository OSS</a> is an artifact repository that supports most software repositories such as Maven, Pypi, Npmjs, Rubygems, Yum, Apt, Docker registry and etc. In the enterprise Nexus repository is widely used for storing proprietary artifacts and caching the artifacts for speeding up the devops.</p><p>Building a production ready Nexus repository always is a requirement for devops team, it should satisfy below criterias at least,</p><ul><li><strong>artifacts storage management</strong> It&rsquo;s difficult to predicate the storage usage of artifacts, allocating large volume is not cost optimized.</li><li><strong>the durability of nexus3 data storage</strong> We need a way to make sure data storage of nexus when updating Nexus OSS to newer version or recover the service from unhealthy status.</li><li><strong>self healing capability when the service is down</strong> A reliable way recovers the Nexus repository OSS when it&rsquo;s unhealth.</li></ul><p>There is a well-architected <a href=https://github.com/aws-samples/nexus-oss-on-aws>solution</a>(maintained by AWS team) to quickly(~10 minutes) deploy <a href=https://www.sonatype.com/nexus-repository-oss>Nexus OSS</a> leveraging below capabilities,</p><ul><li>Host on EKS cluster using managed EC2 nodes with <a href=https://docs.aws.amazon.com/eks/latest/userguide/iam-roles-for-service-accounts.html>IRSA</a></li><li>Expose service via AWS Application load balancer managed by <a href=https://github.com/kubernetes-sigs/aws-load-balancer-controller>AWS load balancer controller</a>(former ALB Ingress Controller)</li><li>Use dedicated S3 bucket for storing Nexus OSS blobstore with ulimited and on-demand storage</li><li>Use EFS, <a href=https://docs.aws.amazon.com/eks/latest/userguide/efs-csi.html>EFS CSI Driver</a>, PV and PVC storing nexus data</li><li>Use <a href=https://helm.sh/>Helm</a> to deploy <a href=https://hub.helm.sh/charts/oteemo/sonatype-nexus>Sonatype Nexus chart</a></li><li><code>Optional</code> Use <a href=https://github.com/kubernetes-sigs/external-dns>External DNS</a> to registry the domain record of Nexus repository to Route 53</li><li><code>Optional</code> Use AWS Certificate Manager to create SSL certificate of domain name of Nexus repository</li></ul><p>Enjoy itğŸ˜</p></article></section><section class="ui secondary attached segment dream-tags"><a class="ui label yellow" href=/tags/amazon-eks title="Amazon EKS">Amazon EKS</a>
<a class="ui label green" href=/tags/kubernetes title=Kubernetes>Kubernetes</a>
<a class="ui label green" href=/tags/helm title=Helm>Helm</a>
<a class="ui label orange" href=/tags/aws-cdk title="AWS CDK">AWS CDK</a>
<a class="ui label olive" href=/tags/aws title=AWS>AWS</a>
<a class="ui label violet" href=/tags/sonatype-nexus title="Sonatype Nexus">Sonatype Nexus</a></section><section class="ui secondary bottom attached segment share row box"><div class=author><img class=avatar src=/img/portrait.jpg></div><div class="info grow flexbox"><p class=name>Kane</p><p class=desc>Three boys' father, open source mania.</p></div><section class="buttons row box"><div class="facebook none flexbox" href=# onclick="window.open('https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),'facebook-share-dialog','width=626,height=436');return false;"><button class="ui facebook button"><i class="facebook icon"></i>Share</button></div><div class="twitter none flexbox" onclick="window.open('https://twitter.com/intent/tweet?text=Read &#34;Deploy Sonatype Nexus repository OSS on EKS  https:\/\/kane.mx\/posts\/2020\/deploy-sonatype-nexus-oss-on-eks\/','_self')"><button class="ui twitter button"><i class="twitter icon"></i>Tweet</button></div></section></section><script src=https://utteranc.es/client.js repo=zxkane/articles issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></div></div><div class=back><nav class="ui top secondary menu bar"><div class=item><i class="inverted big link bullseye icon dream-flip-toggle" title="About Me"></i></div><div class=item><a href=https://github.com/zxkane target=_blank><i id=ico class="inverted big link github icon" title=GitHub></i></a></div><div class=item><a href=mailto:me@kane.mx target=_blank><i id=ico class="inverted big link mail icon" title=Email></i></a></div><div class=item><a href=https://www.stackoverflow.com/users/390513/kane target=_blank><i id=ico class="inverted big link stack overflow icon" title="Stack Overflow"></i></a></div></nav><div class="ui centered grid about"><div class="sixteen wide mobile fifteen wide tablet fifteen wide computer column about"><section class="ui stacked segments"><div class="ui inverted segment"><article class=twemoji><h1 id=so-who-am-i>So, Who Am I?</h1><hr><p>Iâ€™m the father of three boys. Live in Beijing. Also I&rsquo;m the *uix user, a full stack software engineer, devops and cloud native evangelist.</p><p>Curious about me? Use the social links above to check out my profiles.</p></article></div></section></div></div></div></div></div><script src=/js/site.js></script><script src=https://twemoji.maxcdn.com/2/twemoji.min.js?2.6></script><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-11561366-2','auto');ga('send','pageview');</script><script async src=https://www.google-analytics.com/analytics.js></script><script>(function(){console.log("Twemoji up and making stuff colourful!");for(var b=document.getElementsByClassName("twemoji"),a=0;a<b.length;a++){twemoji.parse(b[a]);}})();</script></body></html>